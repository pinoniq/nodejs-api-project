name: app

type: nodejs:14

dependencies:
  nodejs:
    pm2: "^4.5.0"

build:
  flavor: none

hooks:
  build: |
    yarn
    yarn build

web:
  commands:
    # Run a no-op process that uses no CPU resources, since this is a static site.
    start: sleep infinity
  locations:
    '/':
      root: 'public'
      passthru: false
      index: [ 'index.html' ]
      scripts: false
      allow: true
      expires: 24h
      rules:
        \.(css|js|gif|jpe?g|png|ttf|eot|woff2?|otf|cast|mp4|json|yaml|ico|svg?|cast|mp4|json|yaml|svg?|ttf)$:
          expires: 4w

disk: 512
